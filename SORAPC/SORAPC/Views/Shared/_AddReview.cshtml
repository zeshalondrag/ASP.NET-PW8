@model SORAPC_API.Models.Review

@if (User.Identity.IsAuthenticated)
{
    <div class="add-review-form">
        <h3 class="text-center fw-bold mb-4">Оставить отзыв</h3>
        <form asp-action="AddReview" asp-controller="ProductDetails" method="post">
            <input type="hidden" asp-for="ProductId" />

            <!-- Оценка -->
            <div class="form-group mb-3">
                <label class="form-label fw-semibold text-muted">
                    <i class="fas fa-star me-2"></i> Оценка
                </label>
                <select asp-for="Rating" class="form-select rounded-pill" required>
                    <option value="" disabled selected>Выберите оценку</option>
                    <option value="1">★ (1/5)</option>
                    <option value="2">★★ (2/5)</option>
                    <option value="3">★★★ (3/5)</option>
                    <option value="4">★★★★ (4/5)</option>
                    <option value="5">★★★★★ (5/5)</option>
                </select>
                <span asp-validation-for="Rating" class="text-danger d-block mt-1"></span>
            </div>

            <!-- Достоинства -->
            <div class="form-group mb-3">
                <label class="form-label fw-semibold text-muted">
                    <i class="fas fa-thumbs-up me-2"></i> Достоинства
                </label>
                <textarea asp-for="Pros" class="form-control rounded-3" rows="2" required placeholder="Что вам понравилось?"></textarea>
                <span asp-validation-for="Pros" class="text-danger d-block mt-1"></span>
            </div>

            <!-- Недостатки -->
            <div class="form-group mb-3">
                <label class="form-label fw-semibold text-muted">
                    <i class="fas fa-thumbs-down me-2"></i> Недостатки
                </label>
                <textarea asp-for="Cons" class="form-control rounded-3" rows="2" required placeholder="Что можно улучшить?"></textarea>
                <span asp-validation-for="Cons" class="text-danger d-block mt-1"></span>
            </div>

            <!-- Комментарий -->
            <div class="form-group mb-4">
                <label class="form-label fw-semibold text-muted">
                    <i class="fas fa-comment me-2"></i> Комментарий
                </label>
                <textarea asp-for="Comment" class="form-control rounded-3" rows="4" required placeholder="Поделитесь своим опытом"></textarea>
                <span asp-validation-for="Comment" class="text-danger d-block mt-1"></span>
            </div>

            <!-- Кнопка -->
            <div class="text-center">
                <button type="submit" class="btn btn-primary rounded-pill px-4 py-2">
                    <i class="fas fa-check me-2"></i> Оставить отзыв
                </button>
            </div>
        </form>
    </div>
}
else
{
    <p class="text-center text-muted">
        Чтобы оставить отзыв, <a href="/Auth/Login" class="text-primary text-decoration-none fw-semibold">войдите</a> в систему.
    </p>
}

<style>
    .add-review-form {
        max-width: 100%;
        margin: 0 auto;
    }

    .form-label {
        font-size: 1rem;
        color: #555;
    }

    .form-control, .form-select {
        border: 1px solid #ddd;
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

        .form-control:focus, .form-select:focus {
            border-color: #007bff;
            box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
        }

        .form-control::placeholder {
            color: #aaa;
        }

    .btn-primary {
        background-color: #007bff;
        border: none;
        transition: background-color 0.3s ease;
    }

        .btn-primary:hover {
            background-color: #0056b3;
        }

    .text-danger {
        font-size: 0.875rem;
    }
</style>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}